<h1>Nuovo progetto</h1>
<hr>
<section>
<form name="projectCreateForm" novalidate>
	<fieldset>
		<div class="top">
			<div class="form-group customer">
				<p>Clienti</p>
				<select
					ng-model="selectedCustomer"
					ng-options="customer as customer.name for customer in customers"
					ng-change="onCustomerChange(selectedCustomer)">
				</select>
			</div>
		</div>
		<div class="top">
			<div class="form-group project" ng-class="{'has-error' : projectCreateForm.projectname.$invalid && submitted}">
				<p>Nome progetto:</p>
				<input class="ng-binding" ng-model="project.name" name="projectname" required></input>
				<p ng-show="projectCreateForm.projectname.$invalid && submitted" class="errormessage">Il nome del progetto è necessario</p>
			</div>
			<div class="form-group project" ng-class="{'has-error' : projectCreateForm.projectcode.$invalid && submitted}">
				<p>Codice progetto:</p>
				<input class="ng-binding" ng-model="project.code" name="projectcode" required></input>
				<p ng-show="projectCreateForm.projectcode.$invalid && submitted" class="errormessage">Il codice del progetto è necessario</p>
			</div>
		</div>
		<div class="top">
			<div class="form-group budgettot" ng-class="{'has-error' : projectCreateForm.projectbudgettot.$invalid && submitted}">
				<p>Budget totale:</p>
				<input class="ng-binding" ng-model="project.budgettot" name="projectbudgettot" required></input>
				<p ng-show="projectCreateForm.projectbudgettot.$invalid && submitted" class="errormessage">Il budget totale del progetto è necessario</p>
			</div>
			<div class="form-group budgettot">
				<p>Giorni totali:</p>
				<span>{{project.daystot}}</span>
				<!--input class="ng-binding" ng-model="project.daystot"></input-->
			</div>
		</div>
		<div class="center">
			<div class="budget_period">
				<h4>Scegli l'intervallo</h4>
				<div class="datepickerfrom">
					<label for="datepickerfrom">Da:</label>
					<input class="ng-binding" id="datepickerfrom" type="text"
								ng-model="project.from" size="10" name="datepickerfrom"
								ng-blur="getBudgets(project.budgettot, project.from, project.to)" required>
					<img src="./../../img/datepik.gif" ng-click="datepickerfrom.show()"></img>
					<p ng-show="projectCreateForm.datepickerfrom.$invalid && submitted" class="errormessage">
						Inserisci la data di inizio progetto</p>
				</div>
				<div class="datepickerto">
					<label for="datepickerto">A:</label>
					<input class="ng-binding" id="datepickerto" type="text"
								ng-model="project.to" size="10" name="datepickerto"
								ng-blur="getBudgets(project.budgettot, project.from, project.to)" required>
					<img src="./../../img/datepik.gif" ng-click="datepickerto.show()"></img>
					<p ng-show="projectCreateForm.datepickerto.$invalid && submitted" class="errormessage">
						Inserisci la data di fine progetto</p>
				</div>
			</div>

			<div class="budget_distrib">
				<div class="budgetvalues" ng-repeat="budget in project.budgets">
					<span class="month">
						<b>{{budget.month}}</b>
					</span>
					<span class="dateinterval">
						<span>Da: <b>{{budget.from}}</b></span>
						<span>A: <b>{{budget.to}}</b></span>
					</span>
					<span class="budgetvalues">
						<span>Budget mensile: <b>{{budget.amount}}</b></span>
						<span>Giornate previste: <b>{{budget.days}}</b></span>
					</span>
				</div>
			</div>
		</div>
		<div class="bottom">
			<div class="form-group">
				<button class="btn btn-default" ng-click="save(projectCreateForm.$valid)">Salva progetto</button>
			</div>
		</div>
	</fieldset>
</form>
<hr>
</section>
